<ion-header>
    <ion-toolbar class="line1 bg-gray">
        <div slot="start" class="contagem">
            <span class="counter">0</span>
            <img class="logo-top" src="../../assets/common/supino.svg">
        </div>
        <div class="btns-top">
            <a href="./home" class="btn-calendario " size="small">Calend√°rio</a>
            <a class="btn-tarefas active" size="small">Tarefas</a>
        </div>
        <div slot="end" class="data">
            <div class="dia-semana">{{today | date:'EEEE'}}</div>
            <div class="dia-mes">{{today | date:'dd/MM/yyyy'}}</div>
        </div>
    </ion-toolbar>
</ion-header>

<ion-content>

    <ion-list class="list" ion-padding ion-margin>

        <!-- SKELETON -->
        <ng-container *ngIf="!todos || todos.length == 0">
            <div *ngFor="let n of [0,1,2]" padding>
                <ion-skeleton-text></ion-skeleton-text>
                <p>
                    <ion-skeleton-text class="text-skeleton"></ion-skeleton-text>
                </p>
            </div>
        </ng-container>

        <!-- FOR DA LISTA TAREFAS FIREBASE -->
        <ion-item-sliding *ngFor="let todo of todos">

            <ion-item lines="inset" *ngIf="todo">
                <ion-label>
                    {{ todo.task }}
                </ion-label>
            </ion-item>

            <ion-item-options side="end">
                <ion-item-option color="danger" (click)="onRemoveTodo(todo.id)">
                    Excluir
                </ion-item-option>
            </ion-item-options>

        </ion-item-sliding>

    </ion-list>

    <!-- BTN + -->
    <ion-fab vertical="bottom" horizontal="end" slot="fixed">
        <ion-fab-button (click)="ngxSmartModalService.getModal( 'popupOne').open()" color="dark">
            <ion-icon name="add"></ion-icon>
        </ion-fab-button>
    </ion-fab>

    <!-- MODAL -->
    <ngx-smart-modal #popupOne [identifier]=" 'popupOne' " customClass="nsm-dialog-animation-ttb nsm-centered " [closable]="false ">
        <h1>Adicionar</h1>
        <p><input class="tarefa-text " [(ngModel)]="todo.task " type="text "></p>
        <hr class="line ">
        <button class="salvarTask " (click)="saveTodo() ">OK</button>
    </ngx-smart-modal>

</ion-content>